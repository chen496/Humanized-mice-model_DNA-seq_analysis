<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN'>
<script type="text/javascript">
   var dataObject = { newick: '(M_canettii_CIPT_d:0.059437,(M_canettii_CIPT_e:0.07845,((((M_africanum_GM04118:0.00646,(M_bovis_AF2122_97:0.00269,(M_bovis_BCG_Tokyo_1:0.00013,((M_bovis_BCG_Korea_1:0.0,M_bovis_BCG_Pasteur:0.0):0.00014,M_bovis_BCG_Mexico:0.00013):0.00014):0.00294):0.00514):0.00207,(((MTBC_Beijing_NITR20:0.00914,(MTBC_CCDC5180:0.00102,(MTBC_CCDC5079:0.00423,MTBC_CCDC5079:0.00014):0.00078):0.00016):0.00368,((((MTBC_Erdman_ATCC_35:0.00075,MTBC:0.00123):0.00129,(MTBC_CDC1551:0.00245,MTBC_Haarlem3_NITR2:0.01398):0.00093):0.00065,((((MTBC_CTRI_2:0.001,(MTBC_KZN_4207:0.00014,(MTBC_KZN_605:0.00012,MTBC_KZN_1435:0.00014):0.00012):0.00071):0.00061,(MTBC_RGTB327:0.00462,MTBC_UT205:0.0012):0.00037):0.00014,MTBC_F11:0.00158):0.00109,(MTBC_H37Ra:0.00016,(MTBC_H37Rv:0.00028,MTBC_H37Rv:0.00014):0.00014):0.00281):0.00047):0.00112,MTBC_CAS_NITR204:0.009827):0.00022):0.00247,((MTBC_EAI5:0.0023,MTBC_EAI5_NITR206:0.00933):0.0035,(MTBC_RGTB423:0.00868,spades.45.asm.contig:0.0035):0.00066):0.00289):0.00015):0.07224,(M_canettii_CIPT_a:0.01891,M_canettii_CIPT_b:0.05096):0.03720):0.03909,M_canettii_CIPT_c:0.056869):0.00469):0.02099);' };
   function load() {
      var divVal = $('#svgCanvas').empty();
      var isCircular = $('#circularize-value')[0].value;
      Smits.PhyloCanvas.Render.Parameters.Rectangular.bufferX = 150;
      Smits.PhyloCanvas.Render.Parameters.Circular.bufferRadius = 0.35;
      Smits.PhyloCanvas.Render.Style.line.stroke = 'rgb(0,0,255)';
      Smits.PhyloCanvas.Render.Style.text["font-size"] = 10;
      if (isCircular.toLowerCase() == 'true') {
         phylocanvas = new Smits.PhyloCanvas(
                                         dataObject,
                                         'svgCanvas',
                                          1000, 1000, 'circular'
                                         );
         $('#circularize-value')[0].value = 'false';
      } else {
         phylocanvas = new Smits.PhyloCanvas(
                                         dataObject,
                                         'svgCanvas',
                                          500, 500
                                         );
         $('#circularize-value')[0].value = 'true';
      }
      init();
   }
function snapshot() {
      var svgSource = phylocanvas.getSvgSource();
      if(svgSource) {
         var url = 'data:image/svg+xml,' + svgSource
         window.open(url);
      }
   }
</script>
<html lang="en">
<head>
<link media="all" href="http://www.jsphylosvg.com//js/yui/build/cssfonts/fonts-min.css" type="text/css" rel="stylesheet" />
<link media="all" href="http://www.jsphylosvg.com/js/unitip/css/unitip.css" type="text/css" rel="stylesheet" />
<script src="http://www.jsphylosvg.com/js/unitip/js/unitip.js" type="text/javascript"></script>
<script src="http://www.jsphylosvg.com/js/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="http://www.jsphylosvg.com/js/jquery/jquery.simplemodal.1.4.1.min.js" type="text/javascript"></script>
<script src="http://www.jsphylosvg.com/js/jsphylosvg-min.js?1.29" type="text/javascript"></script>
<script src="http://www.jsphylosvg.com/js/raphael/raphael-min.js" type="text/javascript"></script>
</head>
<body onload="load()">
<div>
<input type="button" id="download-link" onclick="snapshot()" value="Snapshot" />
</div>
<div>
<input type="button" id="circularize-link" onclick="load()" value="Toggle Circular" />
<input type="hidden" id="circularize-value" value="false">
</div>
<div id="svgCanvas">
</div>
</body>
</html>